{% extends 'base.html' %}

{% load static %}
{% block title %}Registration{% endblock %}
{% block css %}

    <!-- Default CSS link if no override provided -->
    <link rel="stylesheet" href="{% static 'css/register.css' %}" >

{% endblock %}
{% block main-content %}
      <div class="messages-container">
    {% if messages %}
    {% for message in messages %}
        {% if message.tags == 'error' %}
            <ul class="error_messages">
                <li>{{ message }}
                    <span class="close-button" onclick="closeMessage(this)">×</span>
                </li>
            </ul>
        {% elif message.tags == 'success' %}
            <ul class="success_messages">
                <li>{{ message }}
                    <span class="close-button" onclick="closeMessage(this)">×</span>
                </li>
            </ul>
        {% endif %}
    {% endfor %}
    {% endif %}
    </div>
    {% if form.errors %}
    <!-- <ul class="errorlist">
        {% for error in form.errors %}
            <li>{{ error }}</li>
        {% endfor %}
    </ul> -->
    {% endif %}

    <div class="container h-100">
        <div class="d-flex justify-content-center h-100">
            <div class="user_card">
                <div class="d-flex justify-content-center">
                    <h3 id="form-title" style="color: black;">Polycystic Ovary Syndrome Prediction System</h3>
                </div><br>
                <div class="d-flex justify-content-center">
                    <h3 id="form-title" style="color: black;">REGISTER ACCOUNT</h3>
                </div>
                <div class="d-flex justify-content-center form_container">

                    <form method="POST" action="{% url 'registration'%}">
                        {% csrf_token %}
                        <div class="input-group mb-3">
                            <input type="text" name="username" id="username" placeholder="enter your name" class="form-control">
                        </div>
                        <div class="input-group mb-2">
                            <input type="email" name="email" id="email" placeholder="enter your email" class="form-control">
                        </div>
                        <div class="input-group mb-2">
                            <input type="password" name="password1" id="password1" placeholder="enter your password" class="form-control">
                        </div>
                        <div class="input-group mb-2">
                            <input type="password" name="password2" id="password2" placeholder="re-enter your password" class="form-control">
                        </div>

                        <div class="d-flex justify-content-center mt-3 login_container">
                            <input type="submit" class="btn login_btn" value="Register Account">
                            <!-- <a href="{% url 'pcos' %}" class="btn login_btn" class="ml-2"></a> -->
                            <!--<input class="btn login_btn" type="submit" value="Register Account">-->
                        </div>

                    </form>
                </div>



                <div class="mt-4">
                    <div class="d-flex justify-content-center links">
                        Already have an account? <a href="{% url 'login_view' %}" class="ml-2">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        for (var field in form_fields) {
            form_fields[field].className += ' form-control'
        }

        setTimeout(function() {
          $('.messages-container').fadeOut('slow');
        }, 5000);
      
        // Close button functionality
        function closeMessage(element) {
          $(element).parent().fadeOut('slow');
        }
    </script>
{% endblock main-content %}